# 合成复用原则

==**`优先使用对象组合，而不是类继承`**==

- 类继承通常为“白箱复用”，对象组合通常为“黑箱复用”
- 继承在某种程度上破坏了封装性，子类父类耦合度高
- 而对象组合则只要求被组合的对象具有良好定义的接口，耦合度低

## 基本介绍

合成复用原则要求尽量使用组合、聚合的方式，而不是使用继承。

## 组合、聚合与依赖

**组合：**

> 在 B 类中有 A 类的对象，通过 A 类的对象调用A类的方法，实现在 B 类中使用A类方法的目的。

**聚合：**

> 在在 B 类中有 A 类的指针，通过创建 A 类的对象，通过 A 类对象调用 A 类的方法，实现在 B 类中使用 A 类方法的目的。

**依赖：**

&emsp;什么时候会造成两个类之间的依赖关系？

> 1. B 类中用到了 A 类
> 2. A 类是 B 类的成员属性
> 3. A 类是 B 类方法的返回属性
> 4. A 类是 B 类方法的参数类型
> 5. 在 B 类的方法中使用到 A 类

## 总结

如果只是让 B 类去使用 A 类的方法，使用继承就会让 B 和 A 的耦合性增强。